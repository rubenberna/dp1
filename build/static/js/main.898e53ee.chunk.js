(this["webpackJsonpdata-portal-1.0"]=this["webpackJsonpdata-portal-1.0"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(7),o=n.n(r),s=n(12),i=n.n(s),u=n(19),l=n(23),d=n(9),j=n(108),p=n(21),b=n(58),h=n(30),O=n(3),f=function(e,t,n){var a=Object(c.createContext)(n);return{Context:a,Provider:function(r){var o=r.children,s=Object(c.useReducer)(e,n),i=Object(h.a)(s,2),u=i[0],l=i[1],d={};for(var j in t)d[j]=t[j](l);return Object(O.jsx)(a.Provider,{value:Object(p.a)({state:u},d),children:o})}}},x=n(27),v="access_token",m="account",g={setAccessToken:function(e){localStorage.setItem(v,e)},getAccessToken:function(){return localStorage.getItem(v)},removeAccessToken:function(){return localStorage.removeItem(v)},setAccount:function(e){localStorage.setItem(m,JSON.stringify(e))},getAccount:function(){var e=localStorage.getItem(m);return e?JSON.parse(e):null}},k=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.signIn();case 2:return t=e.sent,n=t.token,c=t.account,a=t.idToken,g.setAccessToken(n),g.setAccount(c),e.abrupt("return",{account:c,idToken:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.removeAccessToken(),e.next=3,x.a.signOut(t,window.origin);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y="auth/login",_="auth/logout",w="auth/setLoading",L={user:{account:null,idToken:null}},N=f((function(e,t){switch(t.type){case y:return Object(p.a)(Object(p.a)({},e),{},{user:t.payload});case _:return t.payload;case w:return Object(p.a)(Object(p.a)({},e),{},{loading:t.payload});default:return e}}),{login:function(e){return Object(u.a)(i.a.mark((function t(){var n,c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k();case 2:n=t.sent,c=n.account,a=n.idToken,c&&a&&e({type:y,payload:{account:c,idToken:a}});case 6:case"end":return t.stop()}}),t)})))},logout:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(n);case 2:e({type:_,payload:L});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setLoading:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:w,payload:n});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},L),A=N.Provider,T=N.Context,S=function(e){var t=e.children;return Object(O.jsx)("div",{className:"generic-view",children:t})},I=["component"],P=function(e){var t=e.component,n=Object(b.a)(e,I),a=Object(c.useContext)(T).state.user.idToken;return Object(O.jsx)(d.b,Object(p.a)(Object(p.a)({},n),{},{render:function(){return a?Object(O.jsx)(S,{children:t}):Object(O.jsx)(d.a,{to:"/"})}}))},F="locale/setLocale",E=f((function(e,t){switch(t.type){case F:return t.payload;default:return e}}),{setLocale:function(e){return function(t){e({type:F,payload:{locale:t}})}}},{locale:"en"}),J=E.Provider,z=E.Context,B=n(52),M=n(57),R=(n(102),n(103),Object(c.lazy)((function(){return Promise.resolve().then(n.bind(null,52))}))),D=Object(c.lazy)((function(){return Promise.resolve().then(n.bind(null,57))})),G=function(){var e=Object(c.useContext)(T).state.user.idToken,t=Object(c.useContext)(z),n={locale:t.state.locale,changeLocale:t.setLocale,idToken:e},a=[B.metadata,M.metadata];return{appsList:a.map((function(e,t){return{title:e.title,description:e.description,icon:e.icon,slug:"/".concat((a=e.title,a.replace(/\s+/g,"-").toLowerCase())),component:(c=["APP_".concat(t+1)],{APP_1:Object(O.jsx)(R,{state:n}),APP_2:Object(O.jsx)(D,{state:n})}[c])};var c,a}))}},V=n(59),q={primary:"#555BFF",green:"#1FC11B",yellow:"#FFD913",red:"#FF5555",orange:"#FF9C55"},H=function(e){var t=e.metadata,n=Object(d.g)(),c=Object.values(q)[Math.floor(Math.random()*Object.keys(q).length)];return t?Object(O.jsxs)("div",{className:"card",style:{border:"3px solid ".concat(c),color:c},onClick:function(){t&&n.push(t.slug)},children:[Object(O.jsx)("span",{className:"card-title",children:t.title}),Object(O.jsx)("span",{className:"card-description",children:t.description})]}):"No metadata provided"},K=function(e){var t=e.text;return Object(O.jsx)("div",{className:"nothing-to-see-card",children:Object(O.jsxs)("h3",{children:[t," \xaf\\_(\u30c4)_/\xaf"]})})},Q=function(){var e=Object(c.useContext)(T).state.user.account,t=G().appsList;return Object(O.jsx)("div",{className:"home",children:e?t?Object(O.jsxs)("div",{className:"home__dashboard",children:[Object(O.jsx)("h1",{className:"home__dashboard__title",children:"Our current pick"}),Object(O.jsx)("div",{className:"home__dashboard__app-gallery",children:t.map((function(e){var t={title:e.title,description:e.description,slug:e.slug};return Object(O.jsx)(H,{metadata:t},e.slug)}))})]}):Object(O.jsx)(K,{text:Object(O.jsx)(V.a,{id:"home.noApps"})}):Object(O.jsx)(K,{text:Object(O.jsx)(V.a,{id:"home.notLoggedIn"})})})},U=function(){var e=G().appsList,t=Object(c.useContext)(T).state.user.account;return Object(O.jsxs)("div",{className:"sidenav",children:[Object(O.jsx)(l.b,{to:"/",children:Object(O.jsx)("h3",{className:"sidenav__title",children:"Volvo"})}),Object(O.jsx)("h4",{className:"sidenav__sub-title",children:"Financial Services"}),t&&(null===e||void 0===e?void 0:e.map((function(e){var t=e.icon;return Object(O.jsx)("div",{className:"sidenav__icon",children:Object(O.jsx)(l.b,{to:e.slug,children:Object(O.jsx)(t,{})})},e.slug)})))]})},W=function(){var e=Object(c.useContext)(T),t=e.state.user.account,n=e.logout,a=e.login,r=function(e){var t=e.initialClass,n=e.openClass,a=e.closeClass,r=Object(c.useState)(t),o=Object(h.a)(r,2),s=o[0],i=o[1];return{animationClass:s,handleToggle:function(e){var c=e.resetClass;i(c||(s===t||s===a?n:a))}}}({initialClass:"u-hide",openClass:"scale-up-tl",closeClass:"scale-down-tl"}),o=r.animationClass,s=r.handleToggle,i=Object(c.useRef)();!function(e,t){Object(c.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}(i,(function(){return s({resetClass:"u-hide"})}));var u=function(){n(t.homeAccountId)},l=function(){return Object(O.jsxs)("div",{className:"top-navbar--logged-in",onClick:s,children:[Object(O.jsx)("span",{children:t.name}),Object(O.jsx)("ul",{className:"top-navbar--logged-in__options ".concat(o),ref:i,children:Object(O.jsx)("li",{className:"top-navbar--logged-in__options__item",onClick:u,children:"Logout"})})]})};return Object(O.jsx)("div",{className:"top-navbar",children:(null===t||void 0===t?void 0:t.name)?Object(O.jsx)(l,{}):Object(O.jsx)("span",{onClick:a,children:"Login"})})},X=n(55),Y=n(56),Z=(n(104),function(){var e=Object(c.useContext)(T),t=e.login,n=e.setLoading,a=Object(c.useContext)(z).state.locale,r=G().appsList,o={en:X,nl:Y};return Object(c.useEffect)((function(){Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,t();case 3:n(!1);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(O.jsx)(l.a,{children:Object(O.jsxs)(j.a,{locale:a,messages:o[a],children:[Object(O.jsx)(W,{}),Object(O.jsx)(U,{}),Object(O.jsx)(d.d,{children:Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)("div",{children:"Loading..."}),children:Object(O.jsxs)("main",{children:[Object(O.jsx)(d.b,{exact:!0,path:"/",component:Q}),null===r||void 0===r?void 0:r.map((function(e){return Object(O.jsx)(P,{path:e.slug,exact:!0,component:e.component},e.slug)}))]})})})]})})}),$=function(e){var t=e.children;return Object(O.jsx)(J,{children:Object(O.jsx)(A,{children:t})})};o.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)($,{children:Object(O.jsx)(Z,{})})}),document.getElementById("root"))},55:function(e){e.exports=JSON.parse('{"home.notLoggedIn":"Nothing to see here... unless you login first","home.noApps":"I\'m afraid there are no apps to show"}')},56:function(e){e.exports=JSON.parse('{"home.notLoggedIn":"Log alstublieft eerst in","home.noApps":"Geen apps te zien"}')}},[[105,1,2]]]);
//# sourceMappingURL=main.898e53ee.chunk.js.map